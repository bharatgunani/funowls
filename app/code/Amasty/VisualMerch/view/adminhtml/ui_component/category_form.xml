<?xml version="1.0" encoding="UTF-8"?>
<!--
/**
 * @author Amasty Team
 * @copyright Copyright (c) 2021 Amasty (https://www.amasty.com)
 * @package Amasty_VisualMerch
 */
-->

<form xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:module:Magento_Ui:etc/ui_configuration.xsd">
    <fieldset name="general">
        <argument name="data" xsi:type="array">
            <item name="config" xsi:type="array">
                <item name="sortOrder" xsi:type="string">1</item>
            </item>
        </argument>

        <field name="amlanding_is_dynamic">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="dataType" xsi:type="string">boolean</item>
                    <item name="formElement" xsi:type="string">checkbox</item>
                    <item name="source" xsi:type="string">category</item>
                    <item name="prefer" xsi:type="string">toggle</item>
                    <item name="label" xsi:type="string" translate="true">Automatic Category</item>
                    <item name="valueMap" xsi:type="array">
                        <item name="true" xsi:type="string">1</item>
                        <item name="false" xsi:type="string">0</item>
                    </item>
                    <item name="sortOrder" xsi:type="number">997</item>
                    <item name="tooltip" xsi:type="array">
                        <!--<item name="link" xsi:type="string"><![CDATA[guide link]]></item>-->
                        <item name="description" xsi:type="string" translate="true">
                            <![CDATA[This option allows collecting and displaying in the chosen category only those products that match the specified conditions. First, configure and apply the conditions, then open the 'Products Merchandising' tab to arrange the products.]]>
                        </item>
                    </item>
                </item>
            </argument>
        </field>
    </fieldset>
    <fieldset name="conditions_fieldset">
        <argument name="data" xsi:type="array">
            <item name="config" xsi:type="array">
                <item name="label" xsi:type="string" translate="true">Product Conditions</item>
                <item name="collapsible" xsi:type="boolean">true</item>
                <item name="sortOrder" xsi:type="string">2</item>
                <item name="imports" xsi:type="array">
                    <item name="visible" xsi:type="string">ns = ${ $.ns }, index = amlanding_is_dynamic :checked</item>
                </item>
            </item>
        </argument>
        <fieldset name="conditions_select_fieldset">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="additionalClasses" xsi:type="string">ammerchui-condition-wrap</item>
                    <item name="label" xsi:type="string" translate="true">Select Conditions</item>
                    <item name="sortOrder" xsi:type="string">0</item>
                </item>
            </argument>
            <container name="conditions">
                <htmlContent name="html_content">
                    <argument name="block" xsi:type="object">Amasty\VisualMerch\Block\Adminhtml\Conditions</argument>
                </htmlContent>
            </container>
        </fieldset>
        <fieldset name="conditions_import_fieldset">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="additionalClasses" xsi:type="string">ammerchui-condition-wrap</item>
                    <item name="label" xsi:type="string" translate="true">Import Conditions</item>
                    <item name="sortOrder" xsi:type="string">1</item>
                </item>
            </argument>
            <container name="conditions">
                <htmlContent name="html_content">
                    <argument name="block" xsi:type="object">Amasty\VisualMerch\Block\Adminhtml\Conditions\Import</argument>
                </htmlContent>
            </container>
        </fieldset>
    </fieldset>
    <fieldset name="products_fieldset">
        <argument name="data" xsi:type="array">
            <item name="config" xsi:type="array">
                <item name="label" xsi:type="string" translate="true">Products Merchandising</item>
                <item name="collapsible" xsi:type="boolean">true</item>
                <item name="sortOrder" xsi:type="string">3</item>
                <item name="imports" xsi:type="array">
                    <item name="opened" xsi:type="string">ns = ${ $.ns }, index = conditions_fieldset :opened</item>
                </item>
            </item>
        </argument>
        <container name="conditions">
            <htmlContent name="html_content">
                <argument name="block" xsi:type="object">Amasty\VisualMerch\Block\Adminhtml\Products</argument>
            </htmlContent>
        </container>
    </fieldset>
    <fieldset name="assign_products">
        <argument name="data" xsi:type="array">
            <item name="config" xsi:type="array">
                <item name="visible" xsi:type="boolean">false</item>
            </item>
        </argument>
    </fieldset>
</form>
